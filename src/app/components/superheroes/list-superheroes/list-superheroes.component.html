<div class="table-container">
   <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 responsive-table">

      <ng-container matColumnDef="picture">
         <th mat-header-cell *matHeaderCellDef> Picture </th>
         <td mat-cell *matCellDef="let hero">
            <img [src]="hero.images?.xs ? hero.images.xs : 'https://placehold.co/40x48?text=No+image'" alt="Hero Image"
               width="40" height="48" />
         </td>
      </ng-container>

      <ng-container matColumnDef="name">
         <th mat-header-cell *matHeaderCellDef> Name </th>
         <td mat-cell *matCellDef="let hero"> {{ hero.name }} </td>
      </ng-container>

      <ng-container matColumnDef="realName">
         <th mat-header-cell *matHeaderCellDef> Real Name </th>
         <td mat-cell *matCellDef="let hero"> {{ hero.realName }} </td>
      </ng-container>

      <ng-container matColumnDef="powers">
         <th mat-header-cell *matHeaderCellDef> Powers </th>
         <td mat-cell *matCellDef="let hero">
            <mat-chip-set aria-label="Powers List">
               @for (power of hero.powers; track power.name) {
               <mat-chip class="custom-chip"> {{ power }} </mat-chip>
               } @empty {
               -
               }
            </mat-chip-set>
         </td>
      </ng-container>

      <ng-container matColumnDef="universe">
         <th mat-header-cell *matHeaderCellDef> Universe </th>
         <td mat-cell *matCellDef="let hero"> {{ hero.universe }} </td>
      </ng-container>

      <ng-container matColumnDef="firstAppearance">
         <th mat-header-cell *matHeaderCellDef> First Appearance </th>
         <td mat-cell *matCellDef="let hero"> {{ hero.firstAppearance || '-' }} </td>
      </ng-container>

      <ng-container matColumnDef="team">
         <th mat-header-cell *matHeaderCellDef> Team </th>
         <td mat-cell *matCellDef="let hero"> {{ hero.team || '-' }} </td>
      </ng-container>

      <!-- Actions Buttons -->
      <ng-container matColumnDef="actions">
         <th mat-header-cell *matHeaderCellDef> Actions </th>
         <td mat-cell *matCellDef="let hero">
            <button mat-mini-fab aria-label="Edits a superhero" color="primary" class="mr-4">
               <mat-icon>edit</mat-icon>
            </button>
            <button mat-mini-fab aria-label="Deletes a superhero" color="primary">
               <mat-icon class="red-icon">delete</mat-icon>
            </button>
         </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef=" displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
   </table>

   <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
</div>
